<ion-header>
  <ion-navbar>

    <ion-title>Nueva Orden : {{ordNumer }}</ion-title>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" [hidden]="!userValid" #documentEditForm="ngForm">
    <ion-card style="height: 90%;overflow: auto" >
      <ion-card-content [hidden]="step!=1">
        <ion-row>
          <ion-col>

            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Fecha Ingreso:</ion-label>
              <ion-input type="text"  formControlName="date"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Tipo Orden:</ion-label>
              <ion-select formControlName="type_ord">
                <ion-option value="1">Garantía</ion-option>
                <ion-option value="2">Reparación</ion-option>
                <ion-option value="4">Pre-Entrega</ion-option>
                <ion-option value="5">Prospecto</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Recibido por:</ion-label>
              <ion-input type="text" formControlName="user_rec"   placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>


        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Centro de atención:</ion-label>
              <ion-input type="text" formControlName="distri"  placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-card-content>

      <ion-card-content [hidden]="step!=2">

        <ion-row>
          <ion-col>
            <ion-item>
                <button ion-button class="btn-karcher" [hidden]="step<2"  style="width: 100%" type="button" (click)="checkBarraCode()" >Escanear</button>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Codigo de Barra:</ion-label>
              <ion-input type="text"  formControlName="barra"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Número de Parte:</ion-label>
              <ion-input type="text"  formControlName="n_parte"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Modelo:</ion-label>
              <ion-input type="text" formControlName="modelo"   placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>


        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Número de Serie:</ion-label>
              <ion-input type="text" formControlName="serie"  placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-card-content>

      <ion-card-content [hidden]="step!=3">

        <ion-row>
          <ion-col>
            <ion-item>
              <button ion-button class="btn-karcher" [hidden]="step<2"  style="width: 100%" type="button" (click)="findClient()" >Buscar Cliente</button>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Cliente:</ion-label>
              <ion-input type="text"  formControlName="cliente"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Contacto:</ion-label>
              <ion-input type="text"  formControlName="contacto"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Teléfono:</ion-label>
              <ion-input type="text" formControlName="telefono"   placeholder="011-54546555"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>


        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>E-Mail:</ion-label>
              <ion-input type="text" formControlName="email"  placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>


        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Dirección:</ion-label>
              <ion-input type="text" formControlName="dir"   placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <button ion-button class="btn-karcher" [hidden]="step<2"  style="width: 100%" type="button" (click)="openGooglePlaces()" >Cargar Dirección</button>
            </ion-item>
          </ion-col>
        </ion-row>


      </ion-card-content>

      <ion-card-content [hidden]="step!=4">
        <ion-scroll scrollY="true" style="height: 450px">
        <!--<ion-row>
          <ion-col>
            <ion-item>
              <button ion-button class="btn-karcher" [hidden]="step<2"  style="width: 100%" type="button" (click)="findClient()" >Adjuntar Imagen</button>
            </ion-item>
          </ion-col>
        </ion-row>-->

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Accesorio 1:</ion-label>
              <ion-input type="text"  formControlName="acc1"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Accesorio 2:</ion-label>
              <ion-input type="text"  formControlName="acc2"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Accesorio 3:</ion-label>
              <ion-input type="text" formControlName="acc3"   placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>


        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Accesorio 4:</ion-label>
              <ion-input type="text" formControlName="acc4"  placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Accesorio 5:</ion-label>
              <ion-input type="text" formControlName="acc5"  placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Accesorio 6:</ion-label>
              <ion-input type="text" formControlName="acc6"  placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Accesorio 7:</ion-label>
              <ion-input type="text" formControlName="acc7"  placeholder=""></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

          <ion-row>
            <ion-col>
              <ion-item>
                <ion-label color="primary" class="label-form" stacked>Accesorio 8:</ion-label>
                <ion-input type="text" formControlName="acc8"  placeholder=""></ion-input>
              </ion-item>
            </ion-col>
          </ion-row>
        </ion-scroll>
      </ion-card-content>


      <ion-card-content [hidden]="step!=5">
        <ion-row>
          <ion-col>

            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Prioridad Cliente:</ion-label>
              <ion-select formControlName="prior">
                <ion-option value="1">Baja</ion-option>
                <ion-option value="2">Media </ion-option>
                <ion-option value="3">Alta</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Técnico Asignado:</ion-label>
              <ion-select formControlName="tecnico_assign">
                <ion-option *ngFor="let user of orderUsersDist" value="{{user.id}}">{{user.name}}</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Estado:</ion-label>
              <ion-select formControlName="state">
                <ion-option value="0">Pendiente</ion-option>
                <ion-option value="1">Proceso</ion-option>
                <ion-option value="3">Presupuesto</ion-option>
                <ion-option value="4">Aprobada</ion-option>
                <ion-option value="2">Cerrada</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>


        <ion-row>
          <ion-col>
            <ion-item>
              <ion-label color="primary" class="label-form" stacked>Observaciones:</ion-label>
              <ion-textarea type="text" formControlName="obs"  placeholder=""></ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-card-content>

    </ion-card>


  <!--<button ion-button secondary menuToggle>Toggle Menu</button>-->

</form>
</ion-content>

<ion-footer style="text-align: center;background-color: white" >
  <ion-row >
    <ion-col col-6>
      <button ion-button class="btn-karcher" [hidden]="step<2"  style="width: 100%" type="button" (click)="back()" >Atras</button>
    </ion-col>
    <ion-col col-6>
      <button ion-button  class="btn-karcher" [hidden]="step>4" style="width: 100%" type="button" (click)="next()"   outline >Siguiente</button>
      <button ion-button   class="btn-karcher" (click)="documentEditForm.ngSubmit.emit()"  [hidden]="step!=5" [disabled]="!form.valid" style="width: 100%" type="button"   outline >Guardar</button>
    </ion-col>
  </ion-row>
</ion-footer>
